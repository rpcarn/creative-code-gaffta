<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title></title>
        <meta name="description" content="">
        <!--meta name="viewport" content="width=device-width, initial-scale=1"-->
        <!--meta name="viewport" content="width=1920, initial-scale=1"-->
        <meta name="viewport" content="width=1280, initial-scale=1">

        <link rel="apple-touch-icon" href="apple-touch-icon.png">
        <!-- Place favicon.ico in the root directory -->

        <link rel="stylesheet" href="css/normalize.css">
        <link rel="stylesheet" href="css/main.css">
        <script src="js/vendor/modernizr-2.8.3.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
        <script src="js/CurveAnimator.js"></script>


    </head>
    <body>
        <!--[if lt IE 8]>
            <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->

        <!-- Add your site or application content here -->
        <div style="width:1280px;height:720px;background-image:url(img/jungle.png);">

            <div id="monkey" style="width:300px;height:400px;background-image:url(img/monkey.png);background-size: 100%;background-size: cover;">
            </div>

            <div id="monkey-free" style="width:300px;height:400px;background-image:url(img/monkey-free.png);background-size: 100%;background-size: cover;display:none;position:absolute;z-index:100;">
            </div>

            <div id="explosion" style="display:none;width:400px;height:400px;background-image:url(img/explosion.gif);background-size: cover;position:absolute;">
            </div>

            <div id="explosion2" style="display:none;width:400px;height:400px;background-image:url(img/explosion.gif);background-size: cover;position:absolute;">
            </div>

            <div id="coconut" style="position:absolute;top:200px;left:80px;display:none;"><img src="img/closed_coconut_small.png" style="width:150px;height:114px;">
            </div>

            <div id="coconut-open" style="position:absolute;top:200px;left:80px;display:none;"><img src="img/open_coconut_small.png" style="width:200px;height:150px;">
            </div>

            <script>
                $( "#monkey" ).click(function() {
                  //alert( "Handler for .click() called." );
                    $("#monkey").hide();
                    $("#explosion").show();
                    setTimeout(function () {
                        //c.getContext('2d').drawImage(img, 0, 0, w, h);
                        //$(img).hide();
                        $("#explosion").hide();
                        $("#coconut").show(); 
                        //$("#coconut").top(300);
                        $("#coconut").animate({ 'top': 720-150 + 'px' },800); 
                        $("#coconut").top = 720-150;
                        //$('body').animate({ paddingTop: 45 });                
                    },800);
                });

                $("#coconut").click(function() {
                    $("#coconut").hide(); 
                    $("#coconut-open").css({
                       'top' : (720-175)+'px',
                       'left' : $("#coconut").left+'px',
                       'display' : 'block'
                    });
                    

                    $("#monkey-free").css({
                       'top' : (720-450)+'px',
                       'left' : $("#monkey").left+'px',
                       'display' : 'block'
                    });

                    // var curve = new CurveAnimator(
                    //   [$("#monkey").left,(720-450)], [$("#monkey").left+300,(720-450)],
                    //   [$("#monkey").left,(720-450)-200], [$("#monkey").left+300,(720-450)-200]
                    // );
                    var curve = new CurveAnimator(
                      [50,300], [350,300],
                      [50,100], [350,100]
                    );

                    var o = document.getElementById('monkey-free');
                    o.style.position = 'absolute';

                    curve.animate(2, function(point,angle){
                      o.style.left = point.x-50+"px";
                      o.style.top  = point.y+5+"px";
                      o.style.transform =
                        o.style.webkitTransform =
                        o.style.MozTransform =
                        "rotate("+0+"deg)";
                    });

                    $("#coconut").click(false);
                    

                });

                $("#monkey-free").click(function() {

                    var curve = new CurveAnimator(
//                      [350,100],[50,100],[350,300],[50,300]
//                      [350,100],[50,100]
                      [350,300],[50,300],
                      [350,100],[50,100]
                    );

                    var o = document.getElementById('monkey-free');
                    o.style.position = 'absolute';

                    curve.animate(2, function(point,angle){
                      o.style.left = point.x-50+"px";
                      o.style.top  = point.y+5+"px";
                      o.style.transform =
                        o.style.webkitTransform =
                        o.style.MozTransform =
                        "rotate("+0+"deg)";
                    });

                    setTimeout(function () {                    
                        $("#monkey-free").hide();
                        $("#coconut-open").hide();
                        $("#coconut").show();

                        setTimeout(function () {
                            //c.getContext('2d').drawImage(img, 0, 0, w, h);
                            //$(img).hide();

                            $("#explosion2").css({
                               'top' : (720-400)+'px',
                               'left' : $("#explosion").left-25+'px',
                               'display' : 'block'
                            });
                            $("#coconut").hide(); 
                            setTimeout(function () {
                                $("#explosion2").hide();
                            },800);   
                            //$("#coconut").top(300);
                            //$('body').animate({ paddingTop: 45 });                
                        },2000);                    

                    },2100);
                });


            </script>

        </div><!-- End Jungle -->
        

        <script src="https://code.jquery.com/jquery-1.12.0.min.js"></script>
        <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.12.0.min.js"><\/script>')</script>
        <script src="js/plugins.js"></script>
        <script src="js/main.js"></script>

        <!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
        <script>
            (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
            function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
            e=o.createElement(i);r=o.getElementsByTagName(i)[0];
            e.src='https://www.google-analytics.com/analytics.js';
            r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
            ga('create','UA-XXXXX-X','auto');ga('send','pageview');
        </script>
    </body>
</html>
